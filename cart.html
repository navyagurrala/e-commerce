<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #111010;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #fff;
        }
        .item {
            border: 1px solid #1aa3c6;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 10px;
            background-color: #fff;
            display: flex;
            align-items: center;
        }
        .item img {
            width: 100px;
            height: 100px;
            margin-right: 20px;
        }
        .item-details {
            flex-grow: 1;
        }
        .item-title {
            font-size: 1.2em;
            margin-bottom: 5px;
            color: #333;
        }
        .item-price {
            font-weight: bold;
            color: #f75c03;
        }
        .remove-button {
            background-color: #f75c03;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-left: auto;
        }
        .remove-button:hover {
            background-color: #d9534f;
        }
        .remove-button:active {
            background-color: #c9302c;
        }
        .total-amount {
            text-align: right;
            margin-top: 20px;
            font-weight: bold;
            font-size: 1.2em;
            color: #fff;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Shopping Cart</h1>
        <div id="cartItems"></div>
        <div id="totalAmount" class="total-amount"></div>
    </div>

    <script>
        let cartItems = localStorage.getItem("cartItems");
        let totalAmount = 0;

        if (cartItems) {
            cartItems = JSON.parse(cartItems);
            let cartItemsDiv = document.getElementById("cartItems");
            cartItems.forEach(item => {
                let itemDiv = document.createElement("div");
                itemDiv.classList.add("item");

                let img = document.createElement("img");
                img.src = item.image;
                itemDiv.appendChild(img);

                let itemDetailsDiv = document.createElement("div");
                itemDetailsDiv.classList.add("item-details");

                let h1 = document.createElement("h1");
                h1.classList.add("item-title");
                h1.innerText = item.title;
                itemDetailsDiv.appendChild(h1);

                let p = document.createElement("p");
                p.innerText = item.description;
                itemDetailsDiv.appendChild(p);

                let h3 = document.createElement("h3");
                h3.classList.add("item-price");
                h3.innerText = "$" + item.price;
                itemDetailsDiv.appendChild(h3);

                let button = document.createElement("button");
                button.classList.add("remove-button");
                button.innerText = "Remove from Cart";
                button.addEventListener("click", () => {
                    removeItemFromCart(item);
                    itemDiv.remove();
                    updateTotalAmount();
                });
                itemDetailsDiv.appendChild(button);

                itemDiv.appendChild(itemDetailsDiv);

                cartItemsDiv.appendChild(itemDiv);

                totalAmount += parseFloat(item.price);
            });

            let totalAmountDiv = document.getElementById("totalAmount");
            totalAmountDiv.style.color = "white";
            totalAmountDiv.innerText = "Total Amount: $" + totalAmount.toFixed(2);
        }

        function removeItemFromCart(item) {
            let items = JSON.parse(localStorage.getItem("cartItems"));
            let updatedItems = items.filter(i => i.id !== item.id || i.category !== item.category);
            localStorage.setItem("cartItems", JSON.stringify(updatedItems));
        }

        function updateTotalAmount() {
            totalAmount = 0;
            let cartItems = document.querySelectorAll(".item");
            cartItems.forEach(item => {
                let price = item.querySelector(".item-price").innerText;
                totalAmount += parseFloat(price.replace("$", ""));
            });
            let totalAmountDiv = document.getElementById("totalAmount");
            totalAmountDiv.innerText = "Total Amount: $" + totalAmount.toFixed(2);
        }

        function addToCart(item) {
    let cartItems = localStorage.getItem("cartItems");
    if (!cartItems) {
        cartItems = [];
    } else {
        cartItems = JSON.parse(cartItems);
    }

    // Check if the item already exists in the cart
    let existingItem = cartItems.find(i => i.id === item.id);

    if (existingItem) {
        // Item already exists, update quantity
        existingItem.quantity++;
    } else {
        // Item doesn't exist, add it to the cart
        cartItems.push({ ...item, quantity: 1 });
    }

    localStorage.setItem("cartItems", JSON.stringify(cartItems));
    alert("Item added to cart!");
}


    </script>
</body>
</html>
